<h1 class="pageTitle">Portolios</h1>
<button class="button align-super float-end" onclick="create_portfolio_form.showModal()">
  <fa-icon icon="plus" class="text-lg" /> New Portolio
</button>
<div class="grid grid-cols-[repeat(auto-fit,minmax(350px,1fr))] gap-10 grid-masonry">
  @for (portfolio of portfolios; track portfolio.id) {
    <div class="card">
      <img [src]="portfolio.imageUrl" [alt]="portfolio.title" class="photo" />
      <div class="card-body p-8">
        <p class="card-title font-black">{{ portfolio.title }}</p>
        <p class="text-sm text-base-content/70">{{ portfolio.description }}</p>
        <div class="flex flex-col gap-2">
          <div class="badge badge-outline border-gray-200! rounded-none">
            {{ portfolio.artist.name }}
          </div>
          <div class="badge rounded-none">{{ portfolio.offering.name }}</div>
        </div>
        <div class="divider my-0"></div>
        <div class="flex gap-2 justify-between">
          <label class="label pt-2 gap-5 items-center">
            <input
              type="checkbox"
              [checked]="portfolio.featured"
              class="toggle checked:bg-orange-400"
              (change)="onToggle(portfolio)"
            />
            Featured
          </label>
          <div>
            <button class="editButton" (click)="openEditPortfolioModal(portfolio)">
              <fa-icon icon="pen" class="text-sm" />
            </button>
            <button class="deleteButton" (click)="openDeleteModal(portfolio)">
              <fa-icon icon="trash" class="text-sm" />
            </button>
          </div>
        </div>
      </div>
    </div>
  }
</div>
<!-- ===================================================================================== -->
<dialog id="create_portfolio_form" class="modal">
  <div class="modal-box">
    <create-portfolio-form />
  </div>
</dialog>
<!-- ===================================================================================== -->
<dialog id="edit_portfolio_form" class="modal">
  <div class="modal-box">
    <edit-portfolio-form [portfolio]="selectedPortfolio" />
  </div>
</dialog>
<!-- ===================================================================================== -->
<dialog id="delete_portfolio_confirm" class="modal">
  <div class="modal-box">
    <div>
      <h1 class="confirmation">
        Are you sure you want to remove portfolio
        <span class="italic text-yellow-200 font-black">{{ selectedPortfolio?.title }}</span
        >?
      </h1>
    </div>
    <div class="divider"></div>
    <div class="modal-action">
      <button type="submit" class="cancelButton" (click)="deletePortfolio()">Delete</button>
      <button type="cancel" class="button" onclick="delete_portfolio_confirm.close()">
        Cancel
      </button>
    </div>
  </div>

  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
